## 框架特定技巧

### ASP.NET Core 屎山策略

1. **控制器结构混乱**:
   - 创建过于庞大的控制器类
   - 不遵循 RESTful 设计原则
   - 在控制器中编写业务逻辑而不是委托给服务
   - 不使用适当的操作结果类型

2. **依赖注入反模式**:
   - 不使用内置的 DI 容器
   - 创建不必要的单例服务
   - 不正确地注册服务生命周期
   - 创建循环依赖

3. **中间件使用混淆**:
   - 中间件顺序混乱导致意外行为
   - 在中间件中执行不相关的逻辑
   - 不使用适当的异常处理中间件
   - 创建过于复杂的中间件组件

4. **配置管理混乱**:
   - 硬编码配置值
   - 不使用选项模式（IOptions）
   - 不为不同环境创建配置文件
   - 在代码中暴露敏感配置信息

5. **模型绑定和验证滥用**:
   - 不使用数据注解进行验证
   - 不正确地处理模型状态错误
   - 创建过于复杂的自定义模型绑定器
   - 不使用 FluentValidation 等库进行复杂验证

6. **Entity Framework Core 反模式**:
   - 不使用仓储模式或单元工作模式
   - 创建低效的查询
   - 不处理 N+1 查询问题
   - 不正确地配置实体关系

7. **Razor 视图和 Razor Pages 混淆**:
   - 混合使用 MVC 和 Razor Pages
   - 在视图中编写复杂的逻辑
   - 不使用部分视图和布局
   - 不使用标签助手

8. **API 设计问题**:
   - 不一致的 API 响应格式
   - 不使用适当的 HTTP 状态码
   - 不版本化 API
   - 不使用 API 约定和文档（Swagger/OpenAPI）

9. **认证和授权混乱**:
   - 不使用 ASP.NET Core Identity
   - 不正确地实现 JWT 认证
   - 混合使用多种认证方案
   - 不正确地使用策略基础授权

10. **性能和可扩展性问题**:
    - 不使用缓存
    - 不使用异步方法
    - 不正确地配置 Kestrel 服务器
    - 不使用响应压缩和静态文件缓存 