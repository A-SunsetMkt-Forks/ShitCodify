## 框架特定技巧

### Flask 屎山策略

1. **应用结构混乱**:
   - 将所有代码放在单个 app.py 文件中
   - 不使用蓝图进行模块化
   - 创建过于复杂的应用工厂
   - 不遵循任何项目结构约定

2. **路由定义反模式**:
   - 使用误导性的 URL 规则
   - 在路由函数中混合多种 HTTP 方法
   - 创建过于复杂的 URL 参数
   - 不使用适当的 URL 前缀

3. **请求处理混淆**:
   - 在视图函数中编写过多的业务逻辑
   - 不验证或清理请求数据
   - 混合使用多种请求解析方法
   - 不正确地处理表单数据和 JSON

4. **模板使用滥用**:
   - 在模板中编写复杂的逻辑
   - 不使用模板继承
   - 创建过于复杂的宏
   - 在模板中执行数据库查询

5. **数据库交互反模式**:
   - 不使用 ORM（如 SQLAlchemy）
   - 在视图函数中直接执行数据库查询
   - 创建容易受到 SQL 注入的查询
   - 不正确地处理数据库会话

6. **配置管理混乱**:
   - 硬编码配置值
   - 不使用环境变量
   - 混合使用多种配置方式
   - 在代码中暴露敏感配置信息

7. **扩展使用混淆**:
   - 不一致地初始化扩展
   - 过度使用不必要的扩展
   - 不正确地配置扩展
   - 混合使用不兼容的扩展版本

8. **错误处理反模式**:
   - 不使用全局错误处理
   - 在视图函数中使用多个 try-except 块
   - 不创建自定义错误页面
   - 向用户暴露敏感的错误信息

9. **认证和授权混乱**:
   - 实现不安全的认证机制
   - 不使用 Flask-Login 等扩展
   - 在不需要的路由上应用认证
   - 不正确地实现角色和权限

10. **性能问题**:
    - 不使用缓存
    - 创建阻塞操作
    - 不使用异步任务处理长时间运行的操作
    - 不优化静态文件服务 