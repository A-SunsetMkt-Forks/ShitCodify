## 框架特定技巧

### Django 屎山策略

1. **模型混乱**:
   - 创建不必要的多重继承模型
   - 在模型中使用过度复杂的 Meta 选项
   - 使用字符串字段存储应该是关系的数据
   - 滥用 GenericForeignKey 而不是明确的关系

2. **视图复杂化**:
   - 在基于函数的视图和基于类的视图之间混合使用
   - 在视图中编写应该放在模型方法或管理器中的业务逻辑
   - 不使用表单验证，而是手动验证所有内容
   - 在视图中直接执行原始 SQL 查询

3. **URL 路由混淆**:
   - 创建过度嵌套的 URL 模式
   - 使用正则表达式而不是简单的路径模式
   - 在 URL 名称中使用误导性名称

4. **模板滥用**:
   - 在模板中编写复杂的业务逻辑
   - 创建不必要的自定义模板标签
   - 嵌套多层模板继承
   - 在模板中使用过多的 {% with %} 块

5. **ORM 反模式**:
   - 在循环中执行查询（N+1 查询问题）
   - 使用 .all() 后再过滤结果
   - 不使用 select_related 或 prefetch_related
   - 使用 F() 和 Q() 对象创建不必要的复杂查询

6. **表单混乱**:
   - 创建不必要的自定义字段
   - 在 clean 方法中编写复杂的验证逻辑
   - 混合使用 ModelForm 和普通 Form

7. **中间件滥用**:
   - 创建处理不相关功能的中间件
   - 在中间件中执行昂贵的操作

8. **信号滥用**:
   - 过度依赖信号而不是明确的方法调用
   - 在信号处理程序中执行复杂的业务逻辑

9. **缓存混乱**:
   - 缓存不应该缓存的数据
   - 使用不合适的缓存超时
   - 不正确地使用缓存键

10. **管理命令复杂化**:
    - 创建应该是简单脚本的复杂管理命令
    - 在管理命令中硬编码环境特定的逻辑 